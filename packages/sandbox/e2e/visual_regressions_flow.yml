appId: ${APPID}
---
- launchApp:
    stopApp: true # stop the app before launching it
- runFlow:
    when:
      true: ${PLATFORM == 'ios'}
    file: subflow/stopApp.yaml # workaround to handle ios deeplink correctly to run the test
- openLink:
    link: exp://localhost:19000
    autoVerify: true
- tapOn:
    # bypass expo onboarding modal if you run the test on a fresh env
    text: 'Got it'
    optional: true
- tapOn:
    # bypass expo onboarding modal if you run the test on a fresh env
    text: 'Foundation'
    optional: true
- tapOn: 'Box >'
- waitForAnimationToEnd:
    timeout: 10000
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Box
- tapOn: 'Box'
- tapOn: 'Icons >'
- extendedWaitUntil:
    visible: 'Icons'
    timeout: 5000
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Icons
- tapOn: 'Icons'

- tapOn: 'Typo >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Typo
- tapOn: 'Typo'

- tapOn: 'Spinner >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Spinner
- tapOn: 'Spinner'

- tapOn: 'Button >'
- extendedWaitUntil:
    visible: 'Button'
    timeout: 5000
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Button
- tapOn: 'Button'
- tapOn: 'Button Mini >'
- extendedWaitUntil:
    visible: 'Button Mini'
    timeout: 5000
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/ButtonMini
- tapOn: 'Button Mini'
- tapOn: 'Button Icon >'
- extendedWaitUntil:
    visible: 'Button Icon'
    timeout: 5000
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/ButtonIcon
- tapOn: 'Button Icon'
- scrollUntilVisible:
    element:
      text: 'Inputs'
    direction: DOWN
- tapOn: 'Card >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Card
- tapOn: 'Card'
- scrollUntilVisible:
    element:
      text: 'Inputs'
    direction: DOWN
- tapOn: 'CardTip >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/CardTip
- tapOn: 'CardTip'
- tapOn: 'Tag >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Tag
- tapOn: 'Tag'
- scrollUntilVisible:
    element:
      text: 'InputText >'
    direction: DOWN
- tapOn: 'InputText >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/InputText
- tapOn: 'InputText'
- scrollUntilVisible:
    element:
      text: 'InputText Types >'
    direction: DOWN
- tapOn: 'InputText Types >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/InputTextTypes
- tapOn: 'InputText Types'

- scrollUntilVisible:
    element:
      text: 'InputTextArea >'
    direction: DOWN
- tapOn: 'InputTextArea >'
- scrollUntilVisible:
    element:
      text: 'InputTextArea'
    direction: UP
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/InputTextArea
- tapOn: 'InputTextArea'

- scrollUntilVisible:
    element:
      text: 'Bottom'
    direction: DOWN
- tapOn: 'CheckBox >'
- takeScreenshot: e2e/${PLATFORM}/tempScreenshots/Checkbox
- tapOn: 'CheckBox'
##
## CI tests
# - stopApp: host.exp.Exponent
# - openLink: 'exp://exp.host/@lukoapp/sandbox?release-channel=pr-16'
